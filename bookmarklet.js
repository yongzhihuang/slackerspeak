javascript:var speechUtteranceChunker=function(b,a,e){var c=(a=a||{},a.chunkLength)||160,c=new RegExp("^.{"+Math.floor(c/2)+","+c+"}[.!?,]{1}|^.{1,"+c+"}$|^.{1,"+c+"} "),c=(a&&void 0!==a.offset?b.text.substring(a.offset):b.text).match(c);if(void 0!==c[0]&&2<c[0].length){var f=c[0],d=new SpeechSynthesisUtterance(f);for(x in b)b.hasOwnProperty(x)&&"text"!==x&&(d[x]=b[x]);d.onend=function(){a.offset=a.offset||0;a.offset+=f.length-1;speechUtteranceChunker(b,a,e)};console.log(d);setTimeout(function(){speechSynthesis.speak(d)},
0)}else void 0!==e&&e()};function talk(b){b=new SpeechSynthesisUtterance(b);var a=speechSynthesis.getVoices();b.voice=a[2];speechUtteranceChunker(b,{chunkLength:120},function(){})}
setInterval(function(){if(localStorage.lastMessage)b=$(".message").last().find(".message_sender").text().trim(),a=$(".message").last().find(".message_content").text().trim(),a!==localStorage.lastMessage&&(180>=a.length&&talk(b+" said "+a),localStorage.lastMessage=a);else{var b=$(".message").last().find(".message_sender").text().trim(),a=$(".message").last().find(".message_content").text().trim();2300>=a.length&&talk(b+" said "+a);localStorage.lastMessage=a}},2500);